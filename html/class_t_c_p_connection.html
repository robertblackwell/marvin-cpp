<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: TCPConnection Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="class_t_c_p_connection-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">TCPConnection Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for TCPConnection:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_t_c_p_connection.png" usemap="#TCPConnection_map" alt=""/>
  <map id="TCPConnection_map" name="TCPConnection_map">
<area href="class_connection_interface.html" alt="ConnectionInterface" shape="rect" coords="69,56,198,80"/>
<area href="class_read_socket_interface.html" alt="ReadSocketInterface" shape="rect" coords="0,0,129,24"/>
<area href="class_write_socket_interface.html" alt="WriteSocketInterface" shape="rect" coords="139,0,268,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1786a9f9ea84d1e504dee290d0425ce8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p_connection.html#a1786a9f9ea84d1e504dee290d0425ce8">TCPConnection</a> (boost::asio::io_service &amp;io_service, const std::string scheme, const std::string server, const std::string port)</td></tr>
<tr class="separator:a1786a9f9ea84d1e504dee290d0425ce8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af66a3430e661be59609f5cdbd2f19317"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p_connection.html#af66a3430e661be59609f5cdbd2f19317">TCPConnection</a> (boost::asio::io_service &amp;io_service)</td></tr>
<tr class="separator:af66a3430e661be59609f5cdbd2f19317"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4984a896404d02c9dc1135e788a71a4d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p_connection.html#a4984a896404d02c9dc1135e788a71a4d">asyncConnect</a> (ConnectCallbackType cb)</td></tr>
<tr class="separator:a4984a896404d02c9dc1135e788a71a4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab49c7b4120490daec460c9b0bd06dfbd"><td class="memItemLeft" align="right" valign="top"><a id="ab49c7b4120490daec460c9b0bd06dfbd"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>asyncAccept</b> (boost::asio::ip::tcp::acceptor &amp;acceptor, std::function&lt; void(const boost::system::error_code &amp;err)&gt; cb)</td></tr>
<tr class="separator:ab49c7b4120490daec460c9b0bd06dfbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af45c4a0d2feb5faefd2d82505460bf15"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p_connection.html#af45c4a0d2feb5faefd2d82505460bf15">asyncWrite</a> (<a class="el" href="struct_m_buffer.html">MBuffer</a> &amp;buffer, AsyncWriteCallbackType cb)</td></tr>
<tr class="separator:af45c4a0d2feb5faefd2d82505460bf15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39f657137386c99671e5b0bb660ac1ef"><td class="memItemLeft" align="right" valign="top"><a id="a39f657137386c99671e5b0bb660ac1ef"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>asyncWrite</b> (std::string &amp;str, AsyncWriteCallbackType cb)</td></tr>
<tr class="separator:a39f657137386c99671e5b0bb660ac1ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4b619a97387b39d107abfa4c3d9efe5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p_connection.html#ad4b619a97387b39d107abfa4c3d9efe5">asyncWrite</a> (BufferChainSPtr buf_chain_sptr, AsyncWriteCallback cb)</td></tr>
<tr class="separator:ad4b619a97387b39d107abfa4c3d9efe5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99e5f8c52d41a365cb8a99cdf7b2e96d"><td class="memItemLeft" align="right" valign="top"><a id="a99e5f8c52d41a365cb8a99cdf7b2e96d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>asyncWrite</b> (boost::asio::const_buffer buf, AsyncWriteCallback cb)</td></tr>
<tr class="separator:a99e5f8c52d41a365cb8a99cdf7b2e96d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bd787d3f088dcea9d48b993fa043a1c"><td class="memItemLeft" align="right" valign="top"><a id="a2bd787d3f088dcea9d48b993fa043a1c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>asyncWrite</b> (boost::asio::streambuf &amp;sb, AsyncWriteCallback)</td></tr>
<tr class="separator:a2bd787d3f088dcea9d48b993fa043a1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32fb26d3c6d30c59a5b8c5c7a056b1b9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p_connection.html#a32fb26d3c6d30c59a5b8c5c7a056b1b9">asyncRead</a> (<a class="el" href="struct_m_buffer.html">MBuffer</a> &amp;mb, AsyncReadCallbackType cb)</td></tr>
<tr class="separator:a32fb26d3c6d30c59a5b8c5c7a056b1b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdd912efe436e41d99a60ef1bb16ec73"><td class="memItemLeft" align="right" valign="top"><a id="afdd912efe436e41d99a60ef1bb16ec73"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>shutdown</b> ()</td></tr>
<tr class="separator:afdd912efe436e41d99a60ef1bb16ec73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9d37f9ec45ee1c1bfb4164aed8b7135"><td class="memItemLeft" align="right" valign="top"><a id="ab9d37f9ec45ee1c1bfb4164aed8b7135"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>close</b> ()</td></tr>
<tr class="separator:ab9d37f9ec45ee1c1bfb4164aed8b7135"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76fd32d49d1875e8e4a0f9f503a92bcd"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p_connection.html#a76fd32d49d1875e8e4a0f9f503a92bcd">nativeSocketFD</a> ()</td></tr>
<tr class="separator:a76fd32d49d1875e8e4a0f9f503a92bcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac270233abe1610585bcaa86e654cf6ad"><td class="memItemLeft" align="right" valign="top"><a id="ac270233abe1610585bcaa86e654cf6ad"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>scheme</b> ()</td></tr>
<tr class="separator:ac270233abe1610585bcaa86e654cf6ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dc68d736ab41b8550696f1bdedaf40a"><td class="memItemLeft" align="right" valign="top"><a id="a3dc68d736ab41b8550696f1bdedaf40a"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>server</b> ()</td></tr>
<tr class="separator:a3dc68d736ab41b8550696f1bdedaf40a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8ed90aa1225fe1f534e736a438ac8bd"><td class="memItemLeft" align="right" valign="top"><a id="ac8ed90aa1225fe1f534e736a438ac8bd"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>service</b> ()</td></tr>
<tr class="separator:ac8ed90aa1225fe1f534e736a438ac8bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a55d72a606e2ec9be8e145606001c9790"><td class="memItemLeft" align="right" valign="top"><a id="a55d72a606e2ec9be8e145606001c9790"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>setConfig_connectTimeOut</b> (long millisecs)</td></tr>
<tr class="separator:a55d72a606e2ec9be8e145606001c9790"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbf6e8d1866906ce7b1a269c0df35f20"><td class="memItemLeft" align="right" valign="top"><a id="acbf6e8d1866906ce7b1a269c0df35f20"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>setConfig_readTimeOut</b> (long millisecs)</td></tr>
<tr class="separator:acbf6e8d1866906ce7b1a269c0df35f20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a53971c6eeadf5dd1be0aa45b654694"><td class="memItemLeft" align="right" valign="top"><a id="a1a53971c6eeadf5dd1be0aa45b654694"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>setConfig_writeTimeOut</b> (long millisecs)</td></tr>
<tr class="separator:a1a53971c6eeadf5dd1be0aa45b654694"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22bdfdfecfdf97f4b8024e28e2ed6eb0"><td class="memItemLeft" align="right" valign="top"><a id="a22bdfdfecfdf97f4b8024e28e2ed6eb0"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>fd_inuse</b> (int fd)</td></tr>
<tr class="separator:a22bdfdfecfdf97f4b8024e28e2ed6eb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0077ddd447c155402fa00348ec8635d"><td class="memItemLeft" align="right" valign="top"><a id="ac0077ddd447c155402fa00348ec8635d"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>fd_free</b> (int fd)</td></tr>
<tr class="separator:ac0077ddd447c155402fa00348ec8635d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a20685b25079d961a7a9bf1f35b9e80c9"><td class="memItemLeft" align="right" valign="top">static long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p_connection.html#a20685b25079d961a7a9bf1f35b9e80c9">__connect_timeout_interval_ms</a> = 5000</td></tr>
<tr class="separator:a20685b25079d961a7a9bf1f35b9e80c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab556118dc22a172990f22306047eb4f0"><td class="memItemLeft" align="right" valign="top"><a id="ab556118dc22a172990f22306047eb4f0"></a>
static long&#160;</td><td class="memItemRight" valign="bottom"><b>__read_timeout_interval_ms</b> = 5000</td></tr>
<tr class="separator:ab556118dc22a172990f22306047eb4f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb05ef40de90512600fea00ce229b9ed"><td class="memItemLeft" align="right" valign="top"><a id="adb05ef40de90512600fea00ce229b9ed"></a>
static long&#160;</td><td class="memItemRight" valign="bottom"><b>__write_timeout_interval_ms</b> = 5000</td></tr>
<tr class="separator:adb05ef40de90512600fea00ce229b9ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a257b53aea1460ce87ca0d5f269d1326f"><td class="memItemLeft" align="right" valign="top">static std::map&lt; int, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p_connection.html#a257b53aea1460ce87ca0d5f269d1326f">socket_fds_inuse</a></td></tr>
<tr class="separator:a257b53aea1460ce87ca0d5f269d1326f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a1786a9f9ea84d1e504dee290d0425ce8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1786a9f9ea84d1e504dee290d0425ce8">&#9670;&nbsp;</a></span>TCPConnection() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TCPConnection::TCPConnection </td>
          <td>(</td>
          <td class="paramtype">boost::asio::io_service &amp;&#160;</td>
          <td class="paramname"><em>io_service</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string&#160;</td>
          <td class="paramname"><em>scheme</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string&#160;</td>
          <td class="paramname"><em>server</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>client socket needs to know who to connect to </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">io_service</td><td>io_service&amp; the runloop on which this connection will run </td></tr>
    <tr><td class="paramname">scheme</td><td>std::string - values are "http" or "https" </td></tr>
    <tr><td class="paramname">server</td><td>std::string - a name such as www.google.com, NOTE no port number on the end </td></tr>
    <tr><td class="paramname">port</td><td>std::string</td></tr>
  </table>
  </dd>
</dl>
<p>Constructor </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">{io_service}</td><td>io_service - to use for running </td></tr>
    <tr><td class="paramname">{string}</td><td>scheme - "http" or "https" </td></tr>
    <tr><td class="paramname">{string}</td><td>server - domain string </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af66a3430e661be59609f5cdbd2f19317"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af66a3430e661be59609f5cdbd2f19317">&#9670;&nbsp;</a></span>TCPConnection() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TCPConnection::TCPConnection </td>
          <td>(</td>
          <td class="paramtype">boost::asio::io_service &amp;&#160;</td>
          <td class="paramname"><em>io_service</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>server socket will be connected via listen/accept </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a4984a896404d02c9dc1135e788a71a4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4984a896404d02c9dc1135e788a71a4d">&#9670;&nbsp;</a></span>asyncConnect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TCPConnection::asyncConnect </td>
          <td>(</td>
          <td class="paramtype">ConnectCallbackType&#160;</td>
          <td class="paramname"><em>cb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>A Note on timeouts, the use of a boost::asio::strand by this class, and concurrent calls to the async io methods defined below.</p>
<ol type="1">
<li>Only one async I/O operation should be outstanding at any time.</li>
<li><p class="startli">Internally this class applies timeouts to the operations:</p><ul>
<li>asyncConnect</li>
<li>asyncRead</li>
<li>asyncWrite in all its forms to accomodate this an instance of boost::asio::strand is used to ensure that internal io handlers coordinate correctly and do not run concurrently.</li>
</ul>
<p class="startli">HOwever all callbacks provided to asyncConnect, asyncRead, asyncWrite are scheduled (using _io.post())on the instance of io_service being used by the <a class="el" href="class_t_c_p_connection.html">TCPConnection</a> instance and ARE NOT running on the internal strand. These callbacks should NOT be wrapped by another strand as that could cause deadlocks.</p>
<p class="startli">Notice that asyncAccept was NOT included in the list of io ops subject to timeout. </p><pre class="fragment">-   asyncAccept is intended to be used by a server and could be outstanding for a very long time,
    and hence a timeout seems inappropriate
-   because of no timeout there is no need for internal handlers associated with asyncAccept
    to be run on the internal asio::strand.
-   it is likely that asyncAccept callback will be wrapped by a strand within a server as part
    of a servers management of its own concurrency issues.</pre> </li>
</ol>

<p>Implements <a class="el" href="class_connection_interface.html">ConnectionInterface</a>.</p>

</div>
</div>
<a id="a32fb26d3c6d30c59a5b8c5c7a056b1b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32fb26d3c6d30c59a5b8c5c7a056b1b9">&#9670;&nbsp;</a></span>asyncRead()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TCPConnection::asyncRead </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_m_buffer.html">MBuffer</a> &amp;&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AsyncReadCallbackType&#160;</td>
          <td class="paramname"><em>cb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>read </p>

<p>Implements <a class="el" href="class_read_socket_interface.html">ReadSocketInterface</a>.</p>

</div>
</div>
<a id="af45c4a0d2feb5faefd2d82505460bf15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af45c4a0d2feb5faefd2d82505460bf15">&#9670;&nbsp;</a></span>asyncWrite() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TCPConnection::asyncWrite </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_m_buffer.html">MBuffer</a> &amp;&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AsyncWriteCallbackType&#160;</td>
          <td class="paramname"><em>cb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>write </p>

<p>Implements <a class="el" href="class_connection_interface.html">ConnectionInterface</a>.</p>

</div>
</div>
<a id="ad4b619a97387b39d107abfa4c3d9efe5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4b619a97387b39d107abfa4c3d9efe5">&#9670;&nbsp;</a></span>asyncWrite() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TCPConnection::asyncWrite </td>
          <td>(</td>
          <td class="paramtype">BufferChainSPtr&#160;</td>
          <td class="paramname"><em>buf_chain_sptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AsyncWriteCallback&#160;</td>
          <td class="paramname"><em>cb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>this took a while to work out - change buffer code at your peril </p>

<p>Implements <a class="el" href="class_connection_interface.html">ConnectionInterface</a>.</p>

</div>
</div>
<a id="a76fd32d49d1875e8e4a0f9f503a92bcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76fd32d49d1875e8e4a0f9f503a92bcd">&#9670;&nbsp;</a></span>nativeSocketFD()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long TCPConnection::nativeSocketFD </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Utility getter functionsÂ® </p>

<p>Implements <a class="el" href="class_connection_interface.html">ConnectionInterface</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a20685b25079d961a7a9bf1f35b9e80c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20685b25079d961a7a9bf1f35b9e80c9">&#9670;&nbsp;</a></span>__connect_timeout_interval_ms</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long TCPConnection::__connect_timeout_interval_ms = 5000</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Configuration - static methods are provided for configuriing the time out values to be used by connections. The one set of config values apply to all connections. These should be set (if needed) at startup </p>

</div>
</div>
<a id="a257b53aea1460ce87ca0d5f269d1326f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a257b53aea1460ce87ca0d5f269d1326f">&#9670;&nbsp;</a></span>socket_fds_inuse</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt; int, int &gt; TCPConnection::socket_fds_inuse</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>static properties and methods as test and monitor probes so that correct allocation/deallocation of file descriptors can be monitored</p>
<p>What about multiple access </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>marvin/connection/<a class="el" href="tcp__connection_8hpp_source.html">tcp_connection.hpp</a></li>
<li>marvin/connection/tcp_connection.cpp</li>
<li>marvin/connection/time_out.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
