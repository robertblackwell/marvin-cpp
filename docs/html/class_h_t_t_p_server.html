<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MarvinCpp: HTTPServer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MarvinCpp
   </div>
   <div id="projectbrief">Man in the middle proxy</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="class_h_t_t_p_server-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">HTTPServer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>HTTP server class.  TRequestHandler is a template argument that must conform to <a class="el" href="class_request_handler_base.html">RequestHandlerBase</a> for a class that will handle an http request and send the necessary response.  
 <a href="class_h_t_t_p_server.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="http__server_8hpp_source.html">http_server.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3ccc2f74d6b566df84a08155a81dbf33"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_t_t_p_server.html#a3ccc2f74d6b566df84a08155a81dbf33">HTTPServer</a> (const <a class="el" href="class_h_t_t_p_server.html">HTTPServer</a> &amp;)=delete</td></tr>
<tr class="separator:a3ccc2f74d6b566df84a08155a81dbf33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0ff3249ee7308563225f0470f449ead"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_h_t_t_p_server.html">HTTPServer</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_t_t_p_server.html#af0ff3249ee7308563225f0470f449ead">operator=</a> (const <a class="el" href="class_h_t_t_p_server.html">HTTPServer</a> &amp;)=delete</td></tr>
<tr class="separator:af0ff3249ee7308563225f0470f449ead"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a5f52fff7b98136607a692aa06d8ba4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_t_t_p_server.html#a5a5f52fff7b98136607a692aa06d8ba4">HTTPServer</a> (<a class="el" href="request__handler__base_8hpp.html#a0827014266d32d24f92b3dd53fd6e600">RequestHandlerFactory</a> factory)</td></tr>
<tr class="memdesc:a5a5f52fff7b98136607a692aa06d8ba4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct the server to listen on the specified TCP address and port.  <a href="#a5a5f52fff7b98136607a692aa06d8ba4">More...</a><br /></td></tr>
<tr class="separator:a5a5f52fff7b98136607a692aa06d8ba4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af09066b05417f9a9ce9f1cd8e5ad9e18"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_t_t_p_server.html#af09066b05417f9a9ce9f1cd8e5ad9e18">~HTTPServer</a> ()</td></tr>
<tr class="separator:af09066b05417f9a9ce9f1cd8e5ad9e18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aece3ed957213b41813b5eafff259ad9d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_t_t_p_server.html#aece3ed957213b41813b5eafff259ad9d">listen</a> (long port=9991)</td></tr>
<tr class="memdesc:aece3ed957213b41813b5eafff259ad9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">starts the listen process on the servers port, and from there dispatches instances of TRequestHandler to service the connection  <a href="#aece3ed957213b41813b5eafff259ad9d">More...</a><br /></td></tr>
<tr class="separator:aece3ed957213b41813b5eafff259ad9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a263a0e7cedafc3def65be6278e894dbc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_t_t_p_server.html#a263a0e7cedafc3def65be6278e894dbc">terminate</a> ()</td></tr>
<tr class="separator:a263a0e7cedafc3def65be6278e894dbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a903d110951861510bd885333ee22fb6c"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_t_t_p_server.html#a903d110951861510bd885333ee22fb6c">verify</a> ()</td></tr>
<tr class="separator:a903d110951861510bd885333ee22fb6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd4c031485802323ff872b76860413bf"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_t_t_p_server.html#acd4c031485802323ff872b76860413bf">configSet_NumberOfConnections</a> (int num)</td></tr>
<tr class="separator:acd4c031485802323ff872b76860413bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcf739f3cd5e055c0155ec6bc3cd9cc6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_t_t_p_server.html#adcf739f3cd5e055c0155ec6bc3cd9cc6">configSet_NumberOfThreads</a> (int num)</td></tr>
<tr class="separator:adcf739f3cd5e055c0155ec6bc3cd9cc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9f39cb7b348bb1bcd3a671bd2706b57"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_t_t_p_server.html#ab9f39cb7b348bb1bcd3a671bd2706b57">configSet_HeartbeatInterval</a> (int millisecs)</td></tr>
<tr class="separator:ab9f39cb7b348bb1bcd3a671bd2706b57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77afcf8dc54df4a24cdf7a1bd2d29aaf"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_h_t_t_p_server.html">HTTPServer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_t_t_p_server.html#a77afcf8dc54df4a24cdf7a1bd2d29aaf">get_instance</a> ()</td></tr>
<tr class="separator:a77afcf8dc54df4a24cdf7a1bd2d29aaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>HTTP server class.  TRequestHandler is a template argument that must conform to <a class="el" href="class_request_handler_base.html">RequestHandlerBase</a> for a class that will handle an http request and send the necessary response. </p>
<p>Discussion of structure</p>
<p>TRequestHandler is a "user" provided class instance that actually handles a one or more request on a single connection.</p>
<p>connection_handler (<a class="el" href="class_connection_handler.html" title="An instance of this class is created by the server foor every open client connection; this instance m...">ConnectionHandler</a>) wraps a single instance of TRequestHandler and manages the life cycle of that TRequestHandler instance, and thus represents the life time of a single client connection.</p>
<p>server_connection_manager (<a class="el" href="class_server_connection_manager.html">ServerConnectionManager</a>)</p><ul>
<li>only one of these exists. That instance</li>
<li>keeps track of a smart pointer to every active instane of <a class="el" href="class_connection_handler.html" title="An instance of this class is created by the server foor every open client connection; this instance m...">ConnectionHandler</a> thereby ensures they stay in existence while active and can be deleted en-mass if/when the server needs to close down</li>
<li>limits the number of active <a class="el" href="class_connection_handler.html" title="An instance of this class is created by the server foor every open client connection; this instance m...">ConnectionHandler</a> instances at any point in time to ensure that the server does not get overloaded. </li>
</ul>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a3ccc2f74d6b566df84a08155a81dbf33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ccc2f74d6b566df84a08155a81dbf33">&#9670;&nbsp;</a></span>HTTPServer() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">HTTPServer::HTTPServer </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_h_t_t_p_server.html">HTTPServer</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a5a5f52fff7b98136607a692aa06d8ba4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a5f52fff7b98136607a692aa06d8ba4">&#9670;&nbsp;</a></span>HTTPServer() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">HTTPServer::HTTPServer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="request__handler__base_8hpp.html#a0827014266d32d24f92b3dd53fd6e600">RequestHandlerFactory</a>&#160;</td>
          <td class="paramname"><em>factory</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct the server to listen on the specified TCP address and port. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">long</td><td>port defaults to 9991 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af09066b05417f9a9ce9f1cd8e5ad9e18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af09066b05417f9a9ce9f1cd8e5ad9e18">&#9670;&nbsp;</a></span>~HTTPServer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HTTPServer::~HTTPServer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ab9f39cb7b348bb1bcd3a671bd2706b57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9f39cb7b348bb1bcd3a671bd2706b57">&#9670;&nbsp;</a></span>configSet_HeartbeatInterval()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void HTTPServer::configSet_HeartbeatInterval </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>millisecs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="acd4c031485802323ff872b76860413bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd4c031485802323ff872b76860413bf">&#9670;&nbsp;</a></span>configSet_NumberOfConnections()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void HTTPServer::configSet_NumberOfConnections </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="adcf739f3cd5e055c0155ec6bc3cd9cc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcf739f3cd5e055c0155ec6bc3cd9cc6">&#9670;&nbsp;</a></span>configSet_NumberOfThreads()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void HTTPServer::configSet_NumberOfThreads </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a77afcf8dc54df4a24cdf7a1bd2d29aaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77afcf8dc54df4a24cdf7a1bd2d29aaf">&#9670;&nbsp;</a></span>get_instance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_h_t_t_p_server.html">HTTPServer</a> * HTTPServer::get_instance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aece3ed957213b41813b5eafff259ad9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aece3ed957213b41813b5eafff259ad9d">&#9670;&nbsp;</a></span>listen()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HTTPServer::listen </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>port</em> = <code>9991</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>starts the listen process on the servers port, and from there dispatches instances of TRequestHandler to service the connection </p>

</div>
</div>
<a id="af0ff3249ee7308563225f0470f449ead"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0ff3249ee7308563225f0470f449ead">&#9670;&nbsp;</a></span>operator=()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_h_t_t_p_server.html">HTTPServer</a>&amp; HTTPServer::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_h_t_t_p_server.html">HTTPServer</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a263a0e7cedafc3def65be6278e894dbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a263a0e7cedafc3def65be6278e894dbc">&#9670;&nbsp;</a></span>terminate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HTTPServer::terminate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a903d110951861510bd885333ee22fb6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a903d110951861510bd885333ee22fb6c">&#9670;&nbsp;</a></span>verify()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool HTTPServer::verify </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This is for testing only and should be called after all clients have finished to verify that all connections are closed, all connection handlers have been deleted and all sockets are freed up </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>marvin/server/<a class="el" href="http__server_8hpp_source.html">http_server.hpp</a></li>
<li>marvin/server/<a class="el" href="http__server_8cpp.html">http_server.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
